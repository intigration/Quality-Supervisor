(function(n,t,i){var u="watermark",f="watermarkClass",h="watermarkFocus",s="watermarkSubmit",c="watermarkMaxLength",e="watermarkPassword",r="watermarkText",o=/\r/g,y="input:data("+u+"),textarea:data("+u+")",l="input:text,input:password,input[type=search],input:not([type]),textarea",a=["Page_ClientValidate"],v=!1,p="placeholder"in document.createElement("input");n.watermark=n.watermark||{version:"3.1.3",runOnce:!0,options:{className:"watermark",useNative:!0,hideBeforeUnload:!0},hide:function(t){n(t).filter(y).each(function(){n.watermark._hide(n(this))})},_hide:function(n,i){var h=n[0],y=(h.value||"").replace(o,""),l=n.data(r)||"",a=n.data(c)||0,v=n.data(f),u,s;l.length&&y==l&&(h.value="",n.data(e)&&(n.attr("type")||"")==="text"&&(u=n.data(e)||[],s=n.parent()||[],u.length&&s.length&&(s[0].removeChild(n[0]),s[0].appendChild(u[0]),n=u)),a&&(n.attr("maxLength",a),n.removeData(c)),i&&(n.attr("autocomplete","off"),t.setTimeout(function(){n.select()},1)));v&&n.removeClass(v)},show:function(t){n(t).filter(y).each(function(){n.watermark._show(n(this))})},_show:function(t){var a=t[0],p=(a.value||"").replace(o,""),i=t.data(r)||"",y=t.attr("type")||"",w=t.data(f),u,s,l;p.length!=0&&p!=i||t.data(h)?n.watermark._hide(t):(v=!0,t.data(e)&&y==="password"&&(u=t.data(e)||[],s=t.parent()||[],u.length&&s.length&&(s[0].removeChild(t[0]),s[0].appendChild(u[0]),t=u,t.attr("maxLength",i.length),a=t[0])),(y==="text"||y==="search")&&(l=t.attr("maxLength")||0,l>0&&i.length>l&&(t.data(c,l),t.attr("maxLength",i.length))),w&&t.addClass(w),a.value=i)},hideAll:function(){v&&(n.watermark.hide(l),v=!1)},showAll:function(){n.watermark.show(l)}};n.fn.watermark=n.fn.watermark||function(i,c){if(!this.length)return this;var v=!1,a=typeof i=="string";return a&&(i=i.replace(o,"")),typeof c=="object"?(v=typeof c.className=="string",c=n.extend({},n.watermark.options,c)):typeof c=="string"?(v=!0,c=n.extend({},n.watermark.options,{className:c})):c=n.watermark.options,typeof c.useNative!="function"&&(c.useNative=c.useNative?function(){return!0}:function(){return!1}),this.each(function(){var y=n(this),d,w,b,k;if(y.is(l)){if(y.data(u))(a||v)&&(n.watermark._hide(y),a&&y.data(r,i),v&&y.data(f,c.className));else{if(p&&c.useNative.call(this,y)&&(y.attr("tagName")||"")!=="TEXTAREA"){a&&y.attr("placeholder",i);return}y.data(r,a?i:"");y.data(f,c.className);y.data(u,1);(y.attr("type")||"")==="password"?(d=y.wrap("<span>").parent(),w=n(d.html().replace(/type=["']?password["']?/i,'type="text"')),w.data(r,y.data(r)),w.data(f,y.data(f)),w.data(u,1),w.attr("maxLength",i.length),w.focus(function(){n.watermark._hide(w,!0)}).bind("dragenter",function(){n.watermark._hide(w)}).bind("dragend",function(){t.setTimeout(function(){w.blur()},1)}),y.blur(function(){n.watermark._show(y)}).bind("dragleave",function(){n.watermark._show(y)}),w.data(e,y),y.data(e,w)):y.focus(function(){y.data(h,1);n.watermark._hide(y,!0)}).blur(function(){y.data(h,0);n.watermark._show(y)}).bind("dragenter",function(){n.watermark._hide(y)}).bind("dragleave",function(){n.watermark._show(y)}).bind("dragend",function(){t.setTimeout(function(){n.watermark._show(y)},1)}).bind("drop",function(n){var t=y[0],i=n.originalEvent.dataTransfer.getData("Text");(t.value||"").replace(o,"").replace(i,"")===y.data(r)&&(t.value=i);y.focus()});this.form&&(b=this.form,k=n(b),k.data(s)||(k.submit(n.watermark.hideAll),b.submit?(k.data(s,b.submit),b.submit=function(t,i){return function(){var r=i.data(s);n.watermark.hideAll();r.apply?r.apply(t,Array.prototype.slice.call(arguments)):r()}}(b,k)):(k.data(s,1),b.submit=function(t){return function(){n.watermark.hideAll();delete t.submit;t.submit()}}(b))))}n.watermark._show(y)}})};n.watermark.runOnce&&(n.watermark.runOnce=!1,n.extend(n.expr[":"],{data:function(t,i,r){return!!n.data(t,r[3])}}),function(t){n.fn.val=function(){if(!this.length)return arguments.length?this:i;if(arguments.length)return t.apply(this,arguments),n.watermark.show(this),this;if(this.data(u)){var f=(this[0].value||"").replace(o,"");return f===(this.data(r)||"")?"":f}return t.apply(this,arguments)}}(n.fn.val),a.length&&n(function(){for(var r,u,i=a.length-1;i>=0;i--)r=a[i],u=t[r],typeof u=="function"&&(t[r]=function(t){return function(){return n.watermark.hideAll(),t.apply(null,Array.prototype.slice.call(arguments))}}(u))}),n(t).bind("beforeunload",function(){n.watermark.options.hideBeforeUnload&&n.watermark.hideAll()}))})(PZ.JQ,window);
//# sourceMappingURL=jquery.watermark.min.js.map
