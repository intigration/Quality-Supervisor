import{t as lt,j as Z,k as j,Q as $,r as tt,m as et,l as ot,n as B,o as ct,q as ut,v as dt,w as k,x as q,y as _t,z as mt,A as vt,B as pt,c as ft,C as yt,d as ht,D as St,R as Et,e as Ct,f as gt,h as wt,i as Lt}from"./q-b92ea8a1.js";import{e as a,u as rt,l as nt,m as Rt,n as bt,o as qt,p as It,r as Dt,i as H,s as Pt,j as M,k as h,t as At,d as kt,q as N,S as Tt,v as Ot}from"./q-b628c5ca.js";const xt=":root{view-transition-name:none}";const g=()=>a(()=>import("./q-fce1ee8c.js"),[]),J=[["/",[g,()=>a(()=>import("./q-4ee5a0f1.js"),[])]],["about/",[g,()=>a(()=>import("./q-add5ba07.js"),[])]],["article/",[g,()=>a(()=>import("./q-31658996.js"),[])]],["checklist/",[g,()=>a(()=>import("./q-76e867b6.js"),[])]],["framework/",[g,()=>a(()=>import("./q-02cb1df1.js"),[])]],["article/[slug]/",[g,()=>a(()=>import("./q-a7cab4da.js"),[])]],["checklist/[title]/",[g,()=>a(()=>import("./q-5ba34f39.js"),[])]]],X=[];const Y=!0;const Vt=async(d,r)=>{const[S,w,i,L]=rt(),{type:l="link",forceReload:v=d===void 0,replaceState:p=!1,scroll:R=!0}=typeof r=="object"?r:{forceReload:r};if(typeof d=="number"){history.go(d);return}const c=i.value.dest,o=d===void 0?c:lt(d,L.url);if(!Z(o,c)){location.href=o.href;return}if(!v&&j(o,c)){{l==="link"&&o.href!==location.href&&history.pushState(null,"",o);const f=document.getElementById($)??document.documentElement;tt(l,o,new URL(location.href),f,et()),l==="popstate"&&(window._qCityScrollEnabled=!0)}return}return i.value={type:l,dest:o,forceReload:v,replaceState:p,scroll:R},ot(o,nt()),B(J,X,Y,o.pathname),S.value=void 0,L.isNavigating=!0,new Promise(f=>{w.r=f})},Ut=({track:d})=>{const[r,S,w,i,L,l,v,p,R,c,o]=rt();async function f(){var F;const[_,I]=d(()=>[c.value,r.value]),it=Rt(""),D=o.url,m=I?"form":_.type,st=_.replaceState;let n,P,Q=null,T;{n=new URL(_.dest,location),n.pathname.endsWith("/")||(n.pathname+="/");let O=B(J,X,Y,n.pathname);T=nt();const x=P=await ot(n,T,{action:I,clearCache:!0});if(!x){c.untrackedValue={type:m,dest:n};return}const V=x.href,U=new URL(V,n);ct(U,n)||(n=U,O=B(J,X,Y,n.pathname));try{Q=await O}catch{window.location.href=V;return}}if(Q){const[O,x,V,U]=Q,A=V,at=A[A.length-1];o.prevUrl=D,o.url=n,o.params={...x},c.untrackedValue={type:m,dest:n};const b=ut(P,o,A,it);S.headings=at.headings,S.menu=U,w.value=bt(A),i.links=b.links,i.meta=b.meta,i.styles=b.styles,i.scripts=b.scripts,i.title=b.title,i.frontmatter=b.frontmatter;{R.viewTransition!==!1&&(document.__q_view_transition__=!0);let K;m==="popstate"&&(K=et());const E=document.getElementById($)??document.documentElement;(_.scroll&&(!_.forceReload||!j(n,D))&&(m==="link"||m==="popstate")||m==="form"&&!j(n,D))&&(document.__q_scroll_restore__=()=>tt(m,n,D,E,K));const G=P==null?void 0:P.loaders,t=window;if(G&&Object.assign(v,G),dt.clear(),!t._qCitySPA){if(t._qCitySPA=!0,history.scrollRestoration="manual",t.addEventListener("popstate",()=>{t._qCityScrollEnabled=!1,clearTimeout(t._qCityScrollDebounce),l(location.href,{type:"popstate"})}),t.removeEventListener("popstate",t._qCityInitPopstate),t._qCityInitPopstate=void 0,!t._qCityHistoryPatch){t._qCityHistoryPatch=!0;const s=history.pushState,y=history.replaceState,C=e=>(e===null||typeof e>"u"?e={}:(e==null?void 0:e.constructor)!==Object&&(e={_data:e}),e._qCityScroll=e._qCityScroll||q(E),e);history.pushState=(e,u,z)=>(e=C(e),s.call(history,e,u,z)),history.replaceState=(e,u,z)=>(e=C(e),y.call(history,e,u,z))}document.body.addEventListener("click",s=>{if(s.defaultPrevented)return;const y=s.target.closest("a[href]");if(y&&!y.hasAttribute("preventdefault:click")){const C=y.getAttribute("href"),e=new URL(location.href),u=new URL(C,e);if(Z(u,e)&&j(u,e)){if(s.preventDefault(),!u.hash&&!u.href.endsWith("#")){u.href!==e.href&&history.pushState(null,"",u),t._qCityScrollEnabled=!1,clearTimeout(t._qCityScrollDebounce),k({...q(E),x:0,y:0}),location.reload();return}l(y.getAttribute("href"))}}}),document.body.removeEventListener("click",t._qCityInitAnchors),t._qCityInitAnchors=void 0,window.navigation||(document.addEventListener("visibilitychange",()=>{if(t._qCityScrollEnabled&&document.visibilityState==="hidden"){const s=q(E);k(s)}},{passive:!0}),document.removeEventListener("visibilitychange",t._qCityInitVisibility),t._qCityInitVisibility=void 0),t.addEventListener("scroll",()=>{t._qCityScrollEnabled&&(clearTimeout(t._qCityScrollDebounce),t._qCityScrollDebounce=setTimeout(()=>{const s=q(E);k(s),t._qCityScrollDebounce=void 0},200))},{passive:!0}),removeEventListener("scroll",t._qCityInitScroll),t._qCityInitScroll=void 0,(F=t._qCityBootstrap)==null||F.remove(),t._qCityBootstrap=void 0,_t.resolve()}if(m!=="popstate"){t._qCityScrollEnabled=!1,clearTimeout(t._qCityScrollDebounce);const s=q(E);k(s)}mt(window,m,D,n,st),qt(T).then(()=>{var C;vt(T).setAttribute("q:route",O);const y=q(E);k(y),t._qCityScrollEnabled=!0,o.isNavigating=!1,(C=p.r)==null||C.call(p)})}}}f()},Ht=d=>{It(N(()=>a(()=>Promise.resolve().then(()=>W),void 0),"s_RPDJAz33WLA"));const r=pt();if(!(r!=null&&r.params))throw new Error("Missing Qwik City Env Data for help visit https://github.com/QwikDev/qwik/issues/6237");const S=Dt("url");if(!S)throw new Error("Missing Qwik URL Env Data");const w=new URL(S),i=H({url:w,params:r.params,isNavigating:!1,prevUrl:void 0},{deep:!1}),L={},l=Pt(H(r.response.loaders,{deep:!1})),v=M({type:"initial",dest:w,forceReload:!1,replaceState:!1,scroll:!0}),p=H(ft),R=H({headings:void 0,menu:void 0}),c=M(),o=r.response.action,f=o?r.response.loaders[o]:void 0,_=M(f?{id:o,data:r.response.formData,output:{result:f,status:r.response.status}}:void 0),I=N(()=>a(()=>Promise.resolve().then(()=>W),void 0),"s_fX0bDjeJa0E",[_,L,v,i]);return h(yt,R),h(ht,c),h(St,p),h(Et,i),h(Ct,I),h(gt,l),h(wt,_),h(Lt,v),At(N(()=>a(()=>Promise.resolve().then(()=>W),void 0),"s_02wMImzEAbk",[_,R,c,p,r,I,l,L,d,v,i])),kt(Tt,null,3,"qY_0")},W=Object.freeze(Object.defineProperty({__proto__:null,_hW:Ot,s_02wMImzEAbk:Ut,s_RPDJAz33WLA:xt,s_TxCFOy819ag:Ht,s_fX0bDjeJa0E:Vt},Symbol.toStringTag,{value:"Module"}));export{Ot as _hW,Ut as s_02wMImzEAbk,xt as s_RPDJAz33WLA,Ht as s_TxCFOy819ag,Vt as s_fX0bDjeJa0E};
